对每个点找出最小的入边, 如果是一个DAG那么就已经结束了.

否则把环都缩起来, 每个点的边权减去环上的边权之后再跑一遍, 直到没有环为止.

可以用可并堆优化到$O(m\log n)$, 需要写一个带懒标记的左偏树.

{\large\textbf{$O(nm)$版本}}

\inputminted{cpp}{../src/graph/最小树形图.cpp}

{\large\textbf{$O(m\log n)$版本}}

(堆优化版本可以参考fstqwq的模板, 在最后没有目录的部分.)