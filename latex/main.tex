\documentclass[a4paper, twoside]{article}
\title{Standard Code Library}
\author{AntiLeaf}
\date{}

% green= '#10BC72' # '#C3E88D'
% cyan= '#00A1D6' # '#89DDFF'

% \usepackage{zxjatype}
% \setjamainfont{ipaexm.ttf}

\usepackage{graphicx, amssymb, amsmath, textcomp, booktabs}
% \usepackage[libertine, vvarbb]{newtxmath}
\usepackage[scr=rsfso]{mathalfa}
%\usepackage[lining, semibold, type1]{libertine} % a bit lighter than Times--no osf in math
\usepackage[T1]{fontenc} % best for Western European languages
\usepackage{minted}
\usepackage{listings, color, setspace, titlesec, fancyhdr, mdframed, multicol}
\usepackage{fontspec}
\usepackage{ucharclasses}
\usepackage{xunicode, xltxtra}
\usepackage{pdfpages}
\usepackage{tocloft}
\usepackage{nameref}
\usepackage{verbatim}
\usepackage{relsize}
\usepackage[normalem]{ulem}

\usepackage{color,xcolor}

\usepackage{enumitem}
\setenumerate[1]{itemsep=5pt,partopsep=0pt,parsep=\parskip,topsep=5pt,itemindent=1em,leftmargin=3pt}
\setitemize[1]{itemsep=0pt,partopsep=0pt,parsep=\parskip,topsep=5pt,itemindent=1em,leftmargin=3pt}
\setdescription{itemsep=0pt,partopsep=0pt,parsep=\parskip,topsep=5pt,itemindent=1em,leftmargin=3pt}

\setlength{\itemindent}{0em}
\setlength\parindent{0em}

\definecolor{light-gray}{gray}{0.9}    % 1.灰度
\definecolor{black}{gray}{0.0}

\XeTeXlinebreaklocale "zh"
\XeTeXlinebreakskip = 0pt plus 1pt

%configure space between the two columns
\setlength{\columnsep}{13pt}

%configure fonts
\setmonofont{Consolas}[Scale=0.8]
\newfontfamily\substitutefont{等线}[Scale=0.9]
\setTransitionsForChinese{\begingroup\substitutefont}{\endgroup}

%configure minted to display codes
\definecolor{Gray}{rgb}{0.9,0.9,0.9}

%configure section style of table of content
\renewcommand\cftsecfont{\Large}

%configure section style
\titleformat{\section}
{\huge\bfseries}			% The style of the section title
{\thesection }				% a prefix
{15pt}						% How much space exists between the prefix and the title
{}					% How the section is represented
% \titleformat{\section}{\huge}{}{0pt}{}
% \titlespacing{\section}{0pt}{0pt}{0pt}
% \titlespacing{\subsection}{0pt}{0pt}{0pt}
% \titlespacing{\subsubsection}{0pt}{0pt}{0pt}

\usepackage{fancyhdr}
\usepackage[inner=0.9cm, outer=0.7cm, top=1.7cm, bottom=0.4cm]{geometry}
% inner = 1.35cm, outer = 0.9cm

\setlength{\headsep}{0.1cm}
\setlength{\footskip}{0.7cm}

\fancypagestyle{fancy} {

	% \pagestyle{fancy}

	\chead{Standard Code Library}
	\lhead{\nouppercase\leftmark}
	\rhead{\nouppercase\rightmark}
	\cfoot{\thepage}

}

\renewcommand{\headrulewidth}{0.5pt}
\renewcommand{\footrulewidth}{0.5pt}

\setminted[cpp]{
	style=materiallight,
	mathescape,
	linenos,
	autogobble,
	baselinestretch=0.9,
	tabsize=4,
	fontsize=\normalsize,
	%bgcolor=Gray,
	frame=single,
	framesep=1mm,
	framerule=0.3pt,
	numbersep=1mm,
	breaklines=true,
	breaksymbolsepleft=2pt,
	%breaksymbolleft=\raisebox{0.8ex}{ \small\reflectbox{\carriagereturn}}, %not moe!
	%breaksymbolright=\small\carriagereturn,
	breakbytoken=false,
	showtabs=true,
	tab={\relscale{1.08} $\color{light-gray}{\vert} \ \ \ $ \relscale{1}},
}

\setminted[python]{
	style=materiallight,
	mathescape,
	linenos,
	autogobble,
	baselinestretch=0.9,
	tabsize=4,
	fontsize=\normalsize,
	%bgcolor=Gray,
	frame=single,
	framesep=0.8mm,
	framerule=0.3pt,
	numbersep=0.8mm,
	breaklines=true,
	breaksymbolsepleft=2pt,
	%breaksymbolleft=\raisebox{0.8ex}{ \small\reflectbox{\carriagereturn}}, %not moe!
	%breaksymbolright=\small\carriagereturn,
	breakbytoken=false,
	showtabs=true,
	tab={\relscale{1.08} $\color{light-gray}{\vert} \ \ \ $ \relscale{1}},
}

\begin{document}

	\begin{titlepage}
		
		\includepdf{cover_new.pdf}

	\end{titlepage}

	\pagestyle{plain}

	\pagenumbering{roman}
	\setcounter{page}{1}

	\begin{multicols}{2}
		
		\begin{spacing}{1}
			\renewcommand{\contentsname}{\huge{目录}}
			\tableofcontents
		\end{spacing}

	\end{multicols}

	\newpage

	\pagestyle{fancy}

	\pagenumbering{arabic}
	\setcounter{page}{1}

	\begin{multicols}{2}

		\section{数学}
			\subsection{FWT}
				\input{../src-midori/math/FWT.tex}

			\subsection{多项式}
				\subsubsection{FFT}
					\inputminted{cpp}{../src/math/FFT.cpp}

			\subsection{组合数行区间和}
				\inputminted{cpp}{../src-midori/math/杨辉三角行区间和.cpp}
			
			\subsection{二项式反演}
				\input{../src-midori/math/二项式反演.tex}

		\newpage
		\section{数论}

			\subsection{常见预处理与快速幂}
				\inputminted{cpp}{../src-midori/number/常见预处理与快速幂.cpp}

			\subsection{因数分解与素性判定}
				\subsubsection{朴素因数分解}
					\inputminted{cpp}{../src-midori/number/素因数分解.cpp}
				\subsubsection{Miller-Rabin 与 Pollard-Rho}
					\inputminted{cpp}{../src-midori/number/miller_rabin-pollard_rho.cpp}

			\subsection{筛法}
				\subsubsection{线性筛}
					\inputminted{cpp}{../src-midori/number/线性筛.cpp}
				\subsubsection{Min25 筛}
					\inputminted{cpp}{../src-midori/number/min25.cpp}
				% \subsection{杜教筛}

			\subsection{扩展欧几里得}
				\inputminted{cpp}{../src-midori/number/exgcd.cpp}

			\subsection{中国剩余定理}
				% \subsection{基本公式}
				\subsubsection{两个数的 crt}
					\inputminted{cpp}{../src-midori/number/两个数的crt.cpp}
				\subsubsection{excrt}
					\inputminted{cpp}{../src-midori/number/excrt.cpp}
			
			\subsection{卢卡斯定理}
				\subsubsection{模素数卢卡斯}
					\inputminted{cpp}{../src-midori/number/lucas.cpp}
				\subsubsection{扩展卢卡斯}
					\inputminted{cpp}{../src-midori/number/exlucas.cpp}
			
			\subsection{原根与离散对数}
				\subsubsection{原根}
					\inputminted{cpp}{../src-midori/number/原根.cpp}
				\subsubsection{BSGS}
					\inputminted{cpp}{../src-midori/number/bsgs.cpp}
			
			% \subsection{二次剩余}

			\subsection{杂项}
				\subsubsection{大数整除小数取模}
					\input{../src-midori/number/大数除小数.tex}
				\subsubsection{立方根复杂度求 mobius 函数}
					\inputminted{cpp}{../src-midori/number/立方根求mu.cpp}
				\subsubsection{直接求 euler 函数}
					\inputminted{cpp}{../src-midori/number/直接求phi.cpp}

				
		\newpage
		\section{图论}

			\subsection{最小生成树}
				\subsubsection{Boruvka算法}
					\input{../src/graph/Boruvka.tex}
				
				\subsubsection{动态最小生成树}
					\input{../src/graph/动态最小生成树.tex}
			
			\subsection{费用流}
				\subsubsection{SPFA费用流}
					\inputminted{cpp}{../src/graph/SPFA费用流.cpp}

				\subsubsection{Dijkstra费用流}
					\input{../src/graph/dijkstra费用流.tex}

				% \subsubsection{zkw费用流}


				% \subsubsection{网络单纯形}

		\newpage
		\section{字符串}

			\subsection{后缀自动机}
				\inputminted{cpp}{../src-midori/string/后缀自动机.cpp}

	\end{multicols}

	\includepdf[pages = 1-10]{../src/misc/Cheat.pdf}
\end{document}